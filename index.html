<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netherlands stats</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@javascript/danfojs@0.5.2/lib/bundle.min.js"></script>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h2>Statistical Data Overview</h2>
        <p>Macro economic indicators based on statistical data from the Dutch Central Bureau of Statistics (CBS).</p>
    </header>

    <div class="container-fluid mt-4">
        <!-- R1-->
        <div class="row custom-gutter">
            <!-- Consumer Price Index -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="This index measures the average change in prices over time for consumer goods and services">
                            Consumer Price Index
                        </h1>
                        <p id="cpi_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base: 2015 = 100</p>
                        <canvas id="cpiChart" style="margin-bottom: 15px;"></canvas>
                        <div class="table-responsive">
                            <table id="CpiTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Index</th>
                                        <th>Month mutation(%)</th>
                                        <th>Year mutation(%)</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- consumer sentiment-->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="consumer trust indicators where values can vary between -100(all negative) to +100(all positive) and 0(even number of negative and positive)">
                            Consumer Sentiment</h1>
                        <p id="con_sent_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base: None</p>
                        <canvas id="cons_sent_Chart" style="margin-bottom: 15px;"></canvas>
                        <div class="table-responsive">
                            <table id="cons_sentTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Consumer confidence</th>
                                        <th>Economic climate</th>
                                        <th>Purchase confidence</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- R2-->
        <div class="row custom-gutter">
            <!-- producer Price Index -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="This index measures the average change in producer prices over time for the domestic and foreign markets">
                            Producer Price Index</h1>
                        <p id="ppi_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base: 2021 = 100</p>
                        <canvas id="ppiChart" style="margin-bottom: 15px;"></canvas>
                        <div class="table-responsive">
                            <table id="PpiTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Index</th>
                                        <th>Month mutation(%)</th>
                                        <th>Year mutation(%)</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Producer sentiment -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="consumer trust indicators where values can vary between minus(negative) to positive(positive) and 0(even number of negative and positive)">
                            Producer Sentiment</h1>
                        <p id="prod_sent_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base: 2021 = 100</p>
                        <canvas id="prod_sent_Chart" style="margin-bottom: 15px;"></canvas>
                        <div class="table-responsive">
                            <table id="prod_sentTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Producer confidence</th>
                                        <th>Business expectations</th>
                                        <th>Order positions</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- R3-->
        <div class="row custom-gutter">
            <!-- Trade & Services Turnover Index -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="This index measures the turnover and production development of different industries over time">
                            Trade & Services Turnover Index</h1>
                        <p id="services_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base: 2021 = 100</p>
                        <canvas id="serviceChart" style="margin-bottom: 15px"></canvas>
                        <div class="table-responsive">
                            <table id="ServiceTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Trade(%)</th>
                                        <th>Transport&Storage(%)</th>
                                        <th>Catering(%)</th>
                                        <th>Tech&Commun(%)</th>
                                        <th>Real Estate(%)</th>
                                        <th>Services(%)</th>
                                        <th>Total(%)</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- New Housing Price/Sale Index -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="This index measures the movement of housing prices over time in the Netherlands">
                            Housing Prices and Sales Index</h1>
                        <p id="housing_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base: 2020 = 100</p>
                        <canvas id="HousingChart" style="margin-bottom: 15px"></canvas>
                        <div class="table-responsive">
                            <table id="HousingTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Index</th>
                                        <th>Month mutation(%)</th>
                                        <th>Year mutation index(%)</th>
                                        <th>Sold objects</th>
                                        <th>Year mutation objects(%)</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- R3-->
        <div class="row custom-gutter">
            <!-- Employment by branch -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="Seasonally corrected volume of emplyment by the different brances (in 1000's)">
                            Employment by Industry</h1>
                        <p id="Employ_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base:</p>
                        <canvas id="EmployChart" style="margin-bottom: 15px"></canvas>
                        <div class="table-responsive">
                            <table id="EmployTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Total</th>
                                        <th>Agriculture</th>
                                        <th>Minning&Energy</th>
                                        <th>Construction</th>
                                        <th>Trade</th>
                                        <th>Transport&Storage</th>
                                        <th>Catering</th>
                                        <th>Tech&Commun</th>
                                        <th>Financial services</th>
                                        <th>Real estate</th>
                                        <th>Services</th>
                                        <th>Governmental&Health</th>
                                        <th>Recreation</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Salary by branch -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="Average gross monthly salary by branch (including overtime and excluding other perks) using SBI2008">
                            Salary by Industry</h1>
                        <p id="Salary_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base:</p>
                        <canvas id="SalaryChart" style="margin-bottom: 15px"></canvas>
                        <div class="table-responsive">
                            <table id="SalaryTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Total</th>
                                        <th>Agriculture</th>
                                        <th>Minning&Energy</th>
                                        <th>Construction</th>
                                        <th>Trade</th>
                                        <th>Transport&Storage</th>
                                        <th>Catering</th>
                                        <th>Tech&Commun</th>
                                        <th>Financial services</th>
                                        <th>Real estate</th>
                                        <th>Services</th>
                                        <th>Governmental&Health</th>
                                        <th>Recreation</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>    
        </div>

        <!-- R4-->
        <div class="row custom-gutter">
            <!-- Employment by branch -->
            <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="Seasonally corrected volume of unemplyment rate (in 1000's)">
                            Unemployment rate</h1>
                        <p id="Unemploy_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base:</p>
                        <canvas id="UnemployChart" style="margin-bottom: 15px"></canvas>
                        <div class="table-responsive">
                            <table id="UnemployTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Total labor force(x1000)</th>
                                        <th>Unemployment size(x1000)</th>
                                        <th>Rate(%)</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Salary by branch -->
            <!-- <div class="col-lg-6 col-sm-12 mb-1">
                <div class="card shadow">
                    <div class="card-body">
                        <h1 class="card-title" data-toggle="tooltip" 
                            title="Average gross monthly salary by branch (including overtime and excluding other perks) using SBI2008">
                            Salary by Industry</h1>
                        <p id="Salary_mod" class="card-text" style="margin-bottom: 0;"></p>
                        <p class="card-text" style="margin-top: 0px;">Index base:</p>
                        <canvas id="SalaryChart" style="margin-bottom: 15px"></canvas>
                        <div class="table-responsive">
                            <table id="SalaryTable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Total</th>
                                        <th>Agriculture</th>
                                        <th>Minning&Energy</th>
                                        <th>Construction</th>
                                        <th>Trade</th>
                                        <th>Transport&Storage</th>
                                        <th>Catering</th>
                                        <th>Tech&Commun</th>
                                        <th>Financial services</th>
                                        <th>Real estate</th>
                                        <th>Services</th>
                                        <th>Governmental&Health</th>
                                        <th>Recreation</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>     -->
        </div>

    </div>
    
    
    <footer>
        <p>Â© 2024 Oyiko JC services All Rights Reserved</p>
    </footer>

    <script>
        const CPI_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/83131NED/$metadata",
            "value": [
                { "name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/TableInfos" },
                { "name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/UntypedDataSet" },
                { "name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/TypedDataSet" },
                { "name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/DataProperties" },
                { "name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/CategoryGroups" },
                { "name": "Bestedingscategorieen", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/Bestedingscategorieen" },
                { "name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/83131NED/Perioden" }
            ]};

        const con_senti_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/83693NED/$metadata",
            "value": [
                { "name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/83693NED/TableInfos" },
                { "name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/83693NED/UntypedDataSet" },
                { "name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/83693NED/TypedDataSet" },
                { "name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/83693NED/DataProperties" },
                { "name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/83693NED/CategoryGroups" },
                { "name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/83693NED/Perioden" }
            ]};

        const PPI_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/85771NED/$metadata",
            "value": [
                { "name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/TableInfos" },
                { "name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/UntypedDataSet" },
                { "name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/TypedDataSet" },
                { "name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/DataProperties" },
                { "name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/CategoryGroups" },
                { "name": "Afzet", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/Afzet" },
                { "name": "AlleBedrijfstakken", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/AlleBedrijfstakken" },
                { "name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/85771NED/Perioden" }
                // B:minning(AlleBedrijfstakken=305700), C:industrie(AlleBedrijfstakken=307500), D:energy(AlleBedrijfstakken=346600), D:water/disposal(AlleBedrijfstakken=348000)
                // total = 300002
                // Afzet(A044075) = binnenland, Afzet(A044076) = buitenland
            ]};

        const prod_senti_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/81234ned/$metadata",
            "value": [
                { "name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/TableInfos" },
                { "name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/UntypedDataSet" },
                { "name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/TypedDataSet" },
                { "name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/DataProperties" },
                { "name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/CategoryGroups" },
                { "name": "BedrijfstakkenBranchesSBI2008", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/BedrijfstakkenBranchesSBI2008" },
                { "name": "Marges", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/Marges" },
                { "name": "Seizoencorrectie", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/Seizoencorrectie" },
                { "name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/81234ned/Perioden" }
            ]};


        const Service_industry_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/85828NED/$metadata",
            "value": [
                {"name": "TableInfos","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/TableInfos"},
                {"name": "UntypedDataSet","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/UntypedDataSet"},
                {"name": "TypedDataSet","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/TypedDataSet"},
                {"name": "DataProperties","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/DataProperties"},
                {"name": "CategoryGroups","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/CategoryGroups"},
                {"name": "BedrijfstakkenBranchesSBI2008","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/BedrijfstakkenBranchesSBI2008"},
                {"name": "Perioden","url": "https://opendata.cbs.nl/ODataApi/odata/85828NED/Perioden"}
            ]};

        const new_housing_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/85773NED/$metadata",
            "value": [
                {"name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/85773NED/TableInfos"},
                {"name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/85773NED/UntypedDataSet"},
                {"name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/85773NED/TypedDataSet"},
                {"name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/85773NED/DataProperties"},
                {"name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/85773NED/CategoryGroups"},
                {"name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/85773NED/Perioden"}
            ]};

        const employment_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/83451NED/$metadata",
            "value": [
                { "name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/TableInfos" },
                { "name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/UntypedDataSet" },
                { "name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/TypedDataSet" },
                { "name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/DataProperties" },
                { "name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/CategoryGroups" },
                { "name": "KenmerkenBaan", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/KenmerkenBaan" },
                { "name": "BedrijfstakkenBranchesSBI2008", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/BedrijfstakkenBranchesSBI2008" },
                { "name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/83451NED/Perioden" }
            ]};
        
        const unemploy_metadata = {"odata.metadata": "https://opendata.cbs.nl/ODataApi/OData/80590ned/$metadata",
            "value": [
                { "name": "TableInfos", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/TableInfos" },
                { "name": "UntypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/UntypedDataSet" },
                { "name": "TypedDataSet", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/TypedDataSet" },
                { "name": "DataProperties", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/DataProperties" },
                { "name": "CategoryGroups", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/CategoryGroups" },
                { "name": "Geslacht", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/Geslacht" }, //T001038
                { "name": "Leeftijd", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/Leeftijd" }, //"52052   "
                { "name": "Perioden", "url": "https://opendata.cbs.nl/ODataApi/odata/80590ned/Perioden" }
            ]
        };

        
        // harmonized cpi
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=83135NED&_theme=387
        // employment per month 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=83451NED&_theme=6 XXXX
        // unemployment
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=80590ned&_theme=11
        // bankrupties
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=82242NED&_theme=42
        // bevolking 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=83474NED&_theme=62
        // woningen
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=85773NED&_theme=395 XXXX
        // bouwontwikkeling
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=85809NED&_theme=98
        // inputprijzen nieuwbouw
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=80444ned&_theme=393
        // inputprijzen per bouwtype 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=83705NED&_theme=99
        // bouwvergunningen en nieuw/bestaande bouw 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=83667NED&_theme=100
        // energy in kwh 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=84575NED&_theme=125
        // producer sentiment 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=81234ned&_theme=185 XXXX
        // consumer sentiment 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=83693NED&_theme=189 XXXX
        // tourism 
        // https://opendata.cbs.nl/statline/portal.html?_catalog=CBS&_la=nl&tableId=82058NED&_theme=445

        

        // YEAR  
        function getYearArray() {
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear().toString();
            const lastYear = (currentDate.getFullYear() - 1).toString();
            const currentMonth = currentDate.getMonth(); // January is month 0
            return currentMonth === 0 ? [`${currentYear}`] : [`${currentYear}`, `${lastYear}`];
        }
        const yearArray = getYearArray();


        function formatDate(isoDateString) {
            const date = new Date(isoDateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric' }; 
            return date.toLocaleDateString(undefined, options);
        }

        document.addEventListener("DOMContentLoaded", function () {
            $('[data-toggle="tooltip"]').tooltip();
        });



        // testin ggettig the data sets  
        // const typedDataSetUrl = `${Service_industry_metadata.value.find(entity => entity.name === 'TypedDataSet').url}?$top=100`;
        const typedDataSetUrl = `${unemploy_metadata.value.find(entity => entity.name === 'TypedDataSet').url}?$top=100&$filter=startswith(Perioden, '2024')`;
        // const typedDataSetUrl = `${con_senti_metadata.value.find(entity => entity.name === 'TypedDataSet').url}?$top=100&$filter=startswith(Perioden, '2024') and BedrijfstakkenBranchesSBI2008 eq '354200 '`;
        fetch(typedDataSetUrl, {
            method: 'GET',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'}
        })
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            // console.log("FETCHFETCH:", data.value.slice(0, 5)); // Display first 5 entries as sample
            console.log("FETCHFETCH:", JSON.stringify(data.value.slice(0, 100), null, 2));
        })




//  -----------------------------------------------------------------------------------------------------------
//  CPI -------------------------------------------------------------------------------------------  
//  -----------------------------------------------------------------------------------------------------------  

//  -----------------------------------------------------------------------------------------------------------
//  Service -------------------------------------------------------------------------------------------  
//  -----------------------------------------------------------------------------------------------------------  

//  -----------------------------------------------------------------------------------------------------------
//  Housing -------------------------------------------------------------------------------------------  
//  -----------------------------------------------------------------------------------------------------------  
   
    </script>


<script type="module">
    import { fetchTypedDataSet, PPI_fetchTypedDataSet, Service_fetchTypedDataSet, Housing_fetchTypedDataSet, 
        ConSent_fetchTypedDataSet, ProdSent_fetchTypedDataSet, Employment_fetchTypedDataSet, Salary_fetchTypedDataSet,
        Unemploy_fetchTypedDataSet
        } from './myfuncs.js';
    fetchTypedDataSet(yearArray, 'T001112  ', "CpiTable", CPI_metadata); 
    ConSent_fetchTypedDataSet(yearArray, "cons_sentTable", con_senti_metadata); 
    PPI_fetchTypedDataSet(yearArray,['300002'],['A044074'], "PpiTable", PPI_metadata); 
    ProdSent_fetchTypedDataSet(yearArray, '307500', "prod_sentTable", prod_senti_metadata); 
    Service_fetchTypedDataSet(yearArray, ['354200 ', '383100 ', '389100 ','391600 ','402000 ','410200 ','B000655'], "ServiceTable", Service_industry_metadata);
    Housing_fetchTypedDataSet(yearArray, 'T001112  ', "HousingTable", new_housing_metadata);
    Employment_fetchTypedDataSet(yearArray, ['T001081','301000 ', '300002 ', '350000 ','354200 ','383100 ','389100 ','391600 ','396300 ','402000 ','300010 ','300012 ','300014 '], "10000  ","EmployTable", employment_metadata); 
    Salary_fetchTypedDataSet(yearArray, ['T001081','301000 ', '300002 ', '350000 ','354200 ','383100 ','389100 ','391600 ','396300 ','402000 ','300010 ','300012 ','300014 '], "10000  ","SalaryTable", employment_metadata); 
    Unemploy_fetchTypedDataSet(yearArray, "T001038", "52052   ","UnemployTable", unemploy_metadata); 
</script>



</body>
</html>
